/**
 * Form Validation Styles
 * Using modern CSS :user-valid and :user-invalid pseudo-classes
 * These only apply after user interaction, avoiding premature validation styling
 */

/* Invalid field state - using :user-invalid (only after user interaction) */
.checkout-modal__input:user-invalid {
	border-color: var(--color-error);
	background-color: rgba(255, 107, 107, 0.1);

	&:focus {
		border-color: var(--color-error);
		box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.2);
	}
}

/* Valid field state - using :user-valid (only after user interaction) */
.checkout-modal__input:user-valid {
	border-color: var(--color-success);

	&:focus {
		border-color: var(--color-success);
		box-shadow: 0 0 0 3px rgba(81, 207, 102, 0.2);
	}
}

/* Error message container (still managed by JS for custom messages) */
.checkout-modal__error {
	display: none;
	color: var(--color-error-muted);
	font-size: var(--font-size-xs);
	margin-top: var(--spacing-2xs);
	line-height: 1.4;
	font-weight: 500;

	&.checkout-modal__error--visible {
		display: block;
		animation: slideDown var(--transition-fast) ease;
	}
}

/* Slide down animation for error messages */
@keyframes slideDown {
	from {
		opacity: 0;
		transform: translateY(-5px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Form group with invalid field */
.checkout-modal__form-group:has(.checkout-modal__input:user-invalid) {
	.checkout-modal__label {
		color: var(--color-error-muted);
	}
}

/* Form group with valid field */
.checkout-modal__form-group:has(.checkout-modal__input:user-valid) {
	.checkout-modal__label {
		color: var(--color-success);
	}
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
	.checkout-modal__error {
		animation: none;
	}
}
